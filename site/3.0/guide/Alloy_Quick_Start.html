<!DOCTYPE html><html lang="ko"><head><title>Alloy Quick_Start</title><meta charset="utf-8"><meta name="description" content="Titanium Guide"><link rel="stylesheet" href="/titanium-guide-kr/stylesheets/stylesheet.css" media="screen"></head><body></body><!-- HEADER --><div id="header_wrap" class="outer"><header class="inner"><a id="forkme_banner" href="https://github.com/miconblog/titanium-guide-kr">View on GitHub</a><h1 id="project_title">Alloy Quick_Start</h1></header></div><div id="main_content_wrap" class="outer"><section id="main_content" class="inner"><h2>개요</h2>

<p>이 가이드 문서는 알로이 커맨드-라인 인터페이스(이하 CLI)를 설치하고, 간단히 프로젝트를 만드는 방법을 소개한다.</p>

<h2>커맨드-라인 인터페이스 설치</h2>

<p>타이타늄 3.0 부터 알로이 CLI와 플러그인이 자동으로 설치된다. 자세한 내용은 <a href="http://docs.appcelerator.com/titanium/3.0/#!/guide/Quick_Start">타이타늄 스튜디오 빠른 시작 가이드</a>를 참고한다.</p>

<p>설치에 문제가 있거나 CLI를 타이타늄 스튜디오와는 독립적으로 설치하고 싶다면 아래 설명에 따라 직접 설치한다.</p>

<h3>수동 설치 방법</h3>

<aside>
  <p>알로이 CLI를 설치하려면 타이타늄 SDK 2.1.x 이상 버전이 먼저 설치되어 있어야한다.</p>
</aside>

<ol>
<li>Node.js를 설치한다. <a href="http://nodejs.org/#download">다운로드 링크</a>, Node.js에는 알로이를 설치하기 위한 npm 패키지 매니저가 포함되어 있다. </li>
<li><p>커맨드 콘솔창에 다음과 같이 입력해 설치한다.</p>

<aside>
  <p>$ sudo npm install -g alloy</p>
</aside></li>
</ol>

<p>위와 같이 입력하면 기본적으로 알로이 최신 버전을 설치하게 된다. 특정 버전을 설치하고 싶다면 &#39;alloy&#39; 다음에 골뱅이(&#39;@&#39;)를 붙여서 버전을 표시한다. 예로들면 다음과 같다.</p>

<pre><code>&lt;pre&gt;&lt;code&gt;$ sudo npm install -g alloy@0.2.35
&lt;/code&gt;&lt;/pre&gt;
</code></pre>

<h2>프로젝트 생성하기</h2>

<h3>타이타늄 스튜디오에서 생성하기</h3>

<p>타이타늄 스튜디오에서 알로이 프로젝트를 생성하는 과정은 다음과 같다.</p>

<ol>
<li>메뉴에서 <strong>File > New > Titanium Project</strong>를 선택하면 <strong>New Titanium Project</strong> 생성창이 나타난다. </li>
<li><strong>사용 가능한 탬플릿(Available Templates)</strong> 박스에서 <strong>Alloy</strong>를 선택하고 <strong>Next</strong> 버튼을 클릭한다. </li>
<li>필요한 정보를 모두 입력하고 <strong>Finish</strong> 버튼을 클릭한다.</li>
</ol>

<p>이제 알로이 프로젝트가 생성된다. 참고로 Project Explorer와는 달리 App Explorer 창에는 <em>Resources</em> 폴더가 숨겨져 있을 것이다.</p>

<aside>
  <p>위 내용은 타이타늄 스튜디오 3.0 이상에서만 해당하는 내용이다. 이전 버전에서는 새로운 타이타늄 프로젝트를 생성한 후에 해당 프로젝트 루트 폴더에서 <em>alloy new</em> 라고 커맨드라인 명령을 입력해야한다.</p>
</aside>

<h3>CLI를 이용해 생성하기</h3>

<aside>
  <p>타이타늄 3.0 부터 타이타늄 CLI가 같이 설치된다. 자세한 정보는 <a href="http://docs.appcelerator.com/titanium/3.0/#!/guide/Titanium_Command-Line_Interface_Reference">타이타늄 커맨드-라인 인터페이스 문서</a>를 참고한다. 
  타이타늄 2.1.x 버전에서는 <em>titanium.py</em> 파일을 다른 이름으로 바꿔야한다. 타이타늄 파이썬 스크립트를 이용해 설치하는 자세한 내용은 <a href="http://docs.appcelerator.com/titanium/3.0/#!/guide/Legacy_Command-Line_Interface">레거시 커맨드-라인 인터페이스</a> 문서를 참고한다.</p>
</aside>

<p>알로이 프로젝트를 생성하려면 커맨드 명령창에 다음과 같이 입력한다.</p>

<pre><code>$ titanium create --name=appname --id=com.domain.appname --platform=android,ipad,iphone,mobileweb
$ cd appname
$ alloy new
</code></pre>

<p>위와 같이 입력하면 <em>appname</em> 폴더에 알로이 프로젝트 구조가 생성된다.</p>

<h2>간단한 예제</h2>

<p>다음 예제는 키친싱크(KitchenSink) 앱에 있는 image_view_file.js 파일을 알로이 프로젝트로 변환한 것이다.</p>

<p>예제 코드를 보려면 키친싱크 앱 소스에서 <em>Base UI</em> 탭을 클릭하고, <strong>Views > Images Views > Image File</strong> 을 열어본다.</p>

<h3>뷰(View)</h3>

<p>뷰 파일은 GUI 구조를 선언한다. 예를 들어 아래 코드는 윈도우에 이미지와 라벨을 정의한다.</p>

<p><em>app/views/index.xml</em> 파일을 아래와 같이 수정한다.</p>

<pre><code>&lt;Alloy&gt;
&lt;Window&gt;
    &lt;ImageView id="imageView" onClick="clickImage"/&gt;
    &lt;Label id="l"&gt;Click Image of Apple Logo&lt;/Label&gt;
&lt;/Window&gt;
&lt;/Alloy&gt;
</code></pre>

<h3>스타일(Style)</h3>

<p>스타일 파일 포맷은 뷰 파일 안에 있는 컴포넌트들을 구성한다. 예를 들어 아래 코드는 윈도우의 배경색과 위치, 라벨의 색과 크기 그리고 이미지의 위치와 크기를 정의한다.</p>

<p><em>app/styles/index.tss</em> 파일을 아래와 같이 수정한다.</p>

<pre><code>"Window": {
    backgroundColor:"white"
},
"#l":{
       bottom:20,
    width: Ti.UI.SIZE,
    height: Ti.UI.SIZE,
    color:&#39;#999&#39;
},
"#imageView":{
    image:"/images/apple_logo.jpg",
    width:24,
    height:24,
    top:100
}
</code></pre>

<h3>컨트롤러(Controller)</h3>

<p>컨트롤러 파일은 사용자 입력에 반응하는 프리젠테이션 로직을 포함한다. 예를 들어, 아래 컨트롤러 코드는 애플리케이션이 시작되서 윈도우가 열리고, 그 안에 있는 이미지를 사용자가 클릭했을 때 얼럿창을 띄운다.</p>

<p><em>app/controllers/index.js</em> 파일을 아래와 같이 수정한다.</p>

<pre><code>function clickImage(e) {
    Titanium.UI.createAlertDialog({title:&#39;Image View&#39;, message:&#39;You clicked me!&#39;}).show();
}

$.index.open();
</code></pre>

<h3>에셋(Asset)</h3>

<p><em>app/asset/images</em> 폴더를 생성하고 <a href="https://github.com/appcelerator-developer-relations/KitchenSink">키친싱크</a> 프로젝트에서 <a href="https://raw.github.com/appcelerator-developer-relations/KitchenSink/master/Resources/images/apple_logo.jpg">apple_logo.jpg</a> 파일을 복사해 넣는다. 그리고 이 파일은 알로이 빌드가 끝나면 <em>Resources/images/apple</em>logo.jpg* 위치로 복사된다.</p>

<h3>컴파일과 실행</h3>

<h4>타이타늄 스튜디오로 빌드하기</h4>

<aside>
  <p>모바일 웹 플랫폼의 경우 CLI로 애플리케이션을 컴파일한 후에 타이타늄 스튜디오에서 실행한다.</p>
</aside>

<p><em>App Explorer</em> 창에서 <strong>Run</strong> 버튼을 클릭하고, 애플리케이션을 실행할 장치를 선택한다. 그러면 알로이는 알로이 프로젝트 파일(app폴더 하위의 파일들)을 타이타늄 프로젝트 파일로 생성한다. 그리고 이렇게 생성된 파일을 타이타늄 스튜디오에서 컴파일을 하고 시뮬레이터에서 실행하게 된다.</p>

<h4>CLI를 이용해 빌드하기</h4>

<aside>
  <p>모바일 웹 플랫폼의 경우 컴파일 한 후에 타이타늄 스튜디오에서 애플리케이션을 실행한다. 
  안드로이드 플랫폼의 경우 명령어를 실행하기전에 에뮬레이터를 먼저 실행시켜야한다.</p>
</aside>

<p>콘솔창을 열고, 프로젝트 루트 디렉토리에서 다음과 같이 입력한다.</p>

<pre><code>$ alloy compile
$ alloy run [platform]
</code></pre></section></div></html>